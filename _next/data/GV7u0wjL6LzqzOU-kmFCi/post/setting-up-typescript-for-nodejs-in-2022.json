{"pageProps":{"post":{"title":"Setting Up Typescript For Node.js in 2022","createdAt":"2022-06-11T22:05:05-07:00","categories":[],"slug":"setting-up-typescript-for-nodejs-in-2022","fullPath":"/Users/jasonkim/projects/websites/serv.github.io/_posts/2022-06-11-setting-up-typescript-for-nodejs.md","content":"<p>Let's setup an Express app using Typescript.</p>\n<h1>1. Install TSC, TSLint, and type declarations for NodeJS</h1>\n<ul>\n<li><code>npm install --save-dev typescript tslint @types/node @tsconfig/node16</code></li>\n<li>Let's install express as well<ul>\n<li><code>npm install --save express</code></li>\n</ul></li>\n</ul>\n<h1>2. Write tsconfig.json</h1>\n<pre><code class=\"language-json\">{\n  \"extends\": \"@tsconfig/node16/tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"dist\"\n  },\n  \"include\": [\"index.ts\"]\n}\n</code></pre>\n<h1>3. Add npm run commands</h1>\n<p>We want to be able to run <code>npm run build</code> to compile typescript file into a javascript file. </p>\n<p>Add <code>\"build\": \"./node_modules/.bin/tsc\"</code> under <code>\"scripts\"</code> key.</p>\n<p>We also want to run <code>npm run start</code> to run the express app.</p>\n<p>Add <code>\"start\": \"node ./dist\"</code> under <code>\"scripts\"</code> key.</p>\n<p>The <code>package.json</code> file should look like this.</p>\n<pre><code class=\"language-json\">{\n  \"name\": \"typescript-nodejs\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &#x26;&#x26; exit 1\",\n    \"build\": \"./node_modules/.bin/tsc\",\n    \"start\": \"node ./dist\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@tsconfig/node16\": \"^1.0.3\",\n    \"@types/node\": \"^17.0.42\",\n    \"tslint\": \"^6.1.3\",\n    \"typescript\": \"^4.7.3\"\n  },\n  \"dependencies\": {\n    \"express\": \"^4.18.1\"\n  }\n}\n</code></pre>\n<h1>4. Add index.ts with express.js</h1>\n<p>Add the following. THe code is from <a href=\"https://expressjs.com/en/starter/hello-world.html\">the express website</a>.</p>\n<pre><code class=\"language-typescript\">const express = require('express');\nconst app = express();\nconst port = 3000;\n\napp.get('/', (req, res) => {\n  res.send('Hello World!');\n});\n\napp.listen(port, () => {\n  console.log(`Example app listening on port ${port}`);\n});\n</code></pre>\n<h1>5. Compile and run</h1>\n<ul>\n<li>Compile: <code>npm run build</code></li>\n<li>Start: <code>npm run start</code></li>\n</ul>\n<p>You should see <code>Example app listening on port 3000</code> printed in the console.</p>\n<p>You can see the hello world when you go to <a href=\"http://localhost:3000/\">localhost:3000</a>.</p>\n<p>You can find the code <a href=\"https://github.com/serv/blog-tutorials/tree/master/typescript-nodejs\">here</a>.</p>\n"}},"__N_SSG":true}