{"pageProps":{"post":{"title":"Setup a .NET project on Mac OSX","createdAt":"2024-08-31T10:03:43-07:00","categories":[],"slug":"setup-a-net-project-on-mac-osx","fullPath":"/Users/jasonkim/projects/websites/serv.github.io/_posts/2024-08-31-setup-a-net-project-on-mac-osx.md","content":"<p>We will create a new .NET project on Mac OSX using VSCode.</p>\n<p>If you want to skip ahead and just look at the final code setup, check out this <a href=\"https://github.com/serv/csharp-project-setup\">github repo</a>.</p>\n<h1>Setup .NET Development environment</h1>\n<ol>\n<li>Follow instructions on this <a href=\"https://dev.to/rusydy/setting-up-net-on-macos-a-step-by-step-guide-14db\">link</a>.</li>\n</ol>\n<h2>Updating to the latest .NET environment</h2>\n<p>There's a chance that you had prepped .NET development environment years ago. In such case, we want to update to the latest .NET development environment.</p>\n<ol>\n<li>Update Homebrew<ul>\n<li><code>$ brew update</code></li>\n</ul></li>\n<li>Install .NET using Homebrew<ul>\n<li><code>$ brew install --cask dotnet-sdk</code></li>\n</ul></li>\n<li>If you already had installed it before but want to get the latest,<ul>\n<li><code>$ brew upgrade dotnet-sdk</code></li>\n</ul></li>\n<li>Verify<ul>\n<li><code>$ dotnet --version</code></li>\n<li>Should 8.0.401 as of Aug 31, 2024</li>\n</ul></li>\n</ol>\n<h1>Setup a .NET project</h1>\n<ul>\n<li>I am following the <a href=\"https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-dotnet-test\">instruction here</a>.</li>\n<li>If you want to follow the same instructions with my concise commentary, follow instructions below.</li>\n</ul>\n<ol>\n<li>\n<p>Create a .NET project (aka \"Solution\")</p>\n<ul>\n<li><code>$ dotnet new sln -o project-with-tests</code></li>\n</ul>\n</li>\n<li>\n<p><code>cd project-with-tests</code></p>\n</li>\n<li>\n<p>Creates a new class library project in the SuperMassive folder.</p>\n<ul>\n<li><code>dotnet new classlib -o SuperMassive</code></li>\n</ul>\n</li>\n<li>\n<p>Rename Class1.cs to SuperMassive.cs.</p>\n</li>\n<li>\n<p>Inside the project, have the following content.</p>\n<pre><code class=\"language-csharp\">namespace SuperMassiveNS;\n\npublic class SuperMassive\n{\n\n}\n</code></pre>\n</li>\n</ol>\n<ul>\n<li>Notice that the namespace is <code>SuperMassiveNS</code> in order to avoid collision with the class name.</li>\n</ul>\n<ol start=\"6\">\n<li>\n<p>Build</p>\n<ul>\n<li><code>$ dotnet build</code></li>\n</ul>\n</li>\n<li>\n<p>Add class library to the solution</p>\n<ul>\n<li><code>$ dotnet sln add ./SuperMassive/SuperMassive.csproj</code></li>\n</ul>\n</li>\n<li>\n<p>Create tests</p>\n<ul>\n<li><code>$ dotnet new xunit -o SuperMassive.Tests</code></li>\n</ul>\n</li>\n<li>\n<p>Add the tests to the solution</p>\n<ul>\n<li><code>$ dotnet sln add ./SuperMassive.Tests/SuperMassive.Tests.csproj</code></li>\n</ul>\n</li>\n<li>\n<p>Add SuperMassive as a dependency to SuperMassive.Tests</p>\n<ul>\n<li><code>$ dotnet add ./SuperMassive.Tests/SuperMassive.Tests.csproj reference ./SuperMassive/SuperMassive.csproj</code>  </li>\n</ul>\n</li>\n<li>\n<p>Create a test to check that the tests can reference the source class.</p>\n<ul>\n<li>\n<p>Rename the test file name</p>\n<ul>\n<li>SuperMassiveTests.cs</li>\n</ul>\n</li>\n<li>\n<p>Update the content of the test</p>\n<pre><code class=\"language-csharp\">namespace SuperMassive.Tests;\n\npublic class SuperMassiveTests\n{\n    [Fact]\n    public void ReferenceSourceTest()\n    {\n        var superMassive = new SuperMassiveNS.SuperMassive();\n    }\n}\n</code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>Run the tests!</p>\n<ul>\n<li><code>$ dotnet test</code></li>\n</ul>\n</li>\n</ol>\n<h1>Adding more source files and tests</h1>\n<ol>\n<li>\n<p>Go into the source project directory.</p>\n<ul>\n<li><code>$ cd SuperMassive</code></li>\n</ul>\n</li>\n<li>\n<p>Add a new class.</p>\n<ul>\n<li><code>$ dotnet new class -n Adder</code></li>\n</ul>\n</li>\n<li>\n<p>Update the class</p>\n<pre><code class=\"language-csharp\">namespace SuperMassive;\n\npublic class Adder\n{\n  public int add(int i, int j) {\n    return i + j;\n  }\n}\n</code></pre>\n</li>\n<li>\n<p>Go into the test project directory.</p>\n</li>\n<li>\n<p>Add a new test.</p>\n<ul>\n<li><code>$ dotnet new class -n AdderTests</code></li>\n</ul>\n</li>\n<li>\n<p>Update the test class</p>\n<pre><code class=\"language-csharp\">namespace SuperMassive.Tests;\n\npublic class AdderTests\n{\n  [Fact]\n  public void AddTest()\n  {\n    var adder = new SuperMassive.Adder();\n    int result = adder.add(1, 1);\n    Assert.Equal(2, result);\n  }\n}\n</code></pre>\n<ul>\n<li>Make sure to add <code>[Fact]</code><ul>\n<li>Attribute that is applied to a method to indicate that it is a fact that should be run by the test runner.</li>\n</ul></li>\n</ul>\n</li>\n<li>\n<p>Run tests</p>\n<ul>\n<li><code>$ dotnet test</code></li>\n<li>Now you should see 2 tests running<ul>\n<li><code>Passed! - Failed: 0, Passed: 2, Skipped: 0, Total: 2, Duration: 1 ms - SuperMassive.Tests.dll (net8.0)</code></li>\n</ul></li>\n</ul>\n</li>\n</ol>\n"}},"__N_SSG":true}