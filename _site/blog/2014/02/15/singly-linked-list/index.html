<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Singly Linked List</title>
  <meta name="description" content="tl;dr">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://jasonkim.ca/blog/2014/02/15/singly-linked-list/">
  <link rel="alternate" type="application/rss+xml" title="Jason Kim" href="http://jasonkim.ca/feed.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28018879-10', 'auto');
  ga('send', 'pageview');

</script>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Jason Kim</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Singly Linked List</h1>
    <p class="post-meta"><time datetime="2014-02-15T22:02:34-08:00" itemprop="datePublished">Feb 15, 2014</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2 id="tldr">tl;dr</h2>

<ul>
  <li>Basic components and methods of a linked list</li>
  <li>Testing singly linked list implementation</li>
  <li>Programming a singly linked list using Ruby</li>
  <li>Complete code can be view on <a href="https://github.com/serv/learning/tree/master/serv.github.io/algorithms/singly_linked_list">github</a></li>
</ul>

<h2 id="components">Components</h2>

<p>A linked list is a data structure that consists of nodes that
make a sequence. A typical linked list consists of these following components.</p>

<ul>
  <li>Head pointer: a node that indicates the start of the list</li>
  <li>Tail pointer: a node that indicates the end of the node</li>
  <li>Head node: a node that the head pointer points to</li>
  <li>Tail node: a node that the tail node points to</li>
  <li>Pointer: an attribute of node that <em>links</em> to another node</li>
  <li>Linked list: a sequence of nodes interconnected by pointers</li>
  <li>Singly linked list: a sequence of nodes connected by pointers
going from a previous node to its next node</li>
</ul>

<p><img src="http://i.imgur.com/V5dj7GG.jpg" alt="linked list components" />
Figure 1: Components of a singly linked list</p>

<p>There are many ways to implement a linked list. You will easily
find other ways to create a head and a tail for a linked list
in other tutorials. Other tutorials might have different methods
for their linked lists.</p>

<h2 id="methods">Methods</h2>

<p>Here are some common methods for a singly linked list and their
average big-O notations. I gave intuitive reasons for given
runtimes.</p>

<ul>
  <li>Searching [O(n)]: You typically have to go through a certain
number of nodes in order to find the node you are looking for
in a linked list. In the best case scenario, you will find the
node you are looking for at the head node and the runtime is
O(1). In the worst case scenario, you will find the node you are
looking for right before the tail node and the runtime is O(n).</li>
  <li>Push head [O(1)]: You can immediately access the head node’s
location. Placing a new node in front of the head node is
trivial and it will have a constant runtime.</li>
  <li>Push tail [O(1)]: You can immediately access the tail node’s
location. Placing a new node in front of the head node is
trivial and it will have a constant runtime.</li>
  <li>Pop head [O(1)]: You can immediately access the head node’s
location. Deleting the head node is trivial and it will have a
constant runtime.</li>
  <li>Pop tail [O(n)]: In a singly linked list, the runtime for popping ting is O(n) surprisingly. You can immediately access the head node’s
location. However, setting the second last node to be the new head involves intreating through all nodes in the list.</li>
  <li>Print [O(n)]: You have to go through all nodes in the list to
get the values of each nodes.</li>
  <li>Reverse [O(n)]: You have to go through all the nodes in the
list to reverse the pointers.</li>
</ul>

<h2 id="implementation-in-ruby">Implementation in Ruby</h2>

<p>We will create a Node class and a List class. Before we do that,
let’s create some tests for the implementation.</p>

<h3 id="prepare-rspec--factorygirl">Prepare RSpec &amp; FactoryGirl</h3>

<p>Please follow <a href="http://serv.github.io/blog/2014/02/04/basic-testing-setup-with-rspec-and-factorygirl/">Basic Testing Setup with RSpec and FactoryGirl</a> to prepare RSpec and FactoryGirl for testing.</p>

<h3 id="planning-models">Planning Models</h3>

<p>We need to plan attributes of the Node model and the List
model.</p>

<ul>
  <li>Node
    <ul>
      <li>value</li>
      <li>point</li>
    </ul>
  </li>
  <li>List
    <ul>
      <li>head</li>
      <li>tail</li>
      <li>count</li>
    </ul>
  </li>
</ul>

<h3 id="building-factories">Building Factories</h3>

<p>Now that we know what attributes are needed for models, we can
build factories.</p>

<p><code class="highlighter-rouge">ruby spec/factories/lists.rb
FactoryGirl.define do
  factory :list do
    head  { head }
    tail  { tail }
    count { count }
  end
end
</code></p>

<p><code class="highlighter-rouge">ruby spec/factories/nodes.rb
FactoryGirl.define do
  factory :node do
    value { value }
    point { point }
  end
end
</code></p>

<p>Running the tests now should result in failure.</p>

<h3 id="instantiation-tests">Instantiation tests</h3>

<p>Let’s write some tests for building list and node instantiations.</p>

<p>``` ruby spec/models/list_spec.rb
require ‘spec_helper’</p>

<p>describe List do
  describe ‘instantiation’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'instantiates a list' do
  expect(list.class.name).to eq("List")
end   end
</code></pre>
</div>

<p>describe ‘#new’ do
    let!(:list) { List.new }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'build a list' do
  expect(list.head).to eq(nil)
  expect(list.tail).to eq(nil)
  expect(list.count).to eq(0)
end   end end ```
</code></pre>
</div>

<p>``` ruby spec/models/node_spec.rb
require ‘spec_helper’</p>

<p>describe Node do
  describe ‘instantiation’ do
    let!(:node) { build(:node, value: 1, point: nil) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'instantiates a list' do
  expect(node.class.name).to eq("Node")
end   end
</code></pre>
</div>

<p>describe ‘#new’ do
    let!(:node) { Node.new }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'build a list' do
  expect(node.value).to eq(nil)
  expect(node.point).to eq(nil)
end   end end ```
</code></pre>
</div>

<p>If you run the tests now, they should still fail. This is because we
haven’t written <code class="highlighter-rouge">new</code> methods for the models yet.</p>

<h3 id="new-method-and-attributes"><code class="highlighter-rouge">new</code> Method and attributes</h3>

<p>Now we will write new methods and attributes for the models.</p>

<p>``` ruby lib/models/node.rb
class Node
  attr_accessor :value, :point</p>

<p>def initialize
    @value = nil
    @point = nil
  end
end
```</p>

<p>``` ruby lib/models/list.rb
class List
  attr_accessor :head, :tail, :count</p>

<p>def initialize
    @head = nil
    @tail = nil
    @count = 0
  end
end
```</p>

<h3 id="all-methods-with-tests">All Methods with Tests</h3>

<p>``` ruby spec/models/list_spec.rb
require ‘spec_helper’</p>

<p>describe List do
  describe ‘instantiation’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'instantiates a list' do
  expect(list.class.name).to eq("List")
end   end
</code></pre>
</div>

<p>describe ‘#new’ do
    let!(:list) { List.new }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'build a list' do
  expect(list.head).to eq(nil)
  expect(list.tail).to eq(nil)
  expect(list.count).to eq(0)
end   end
</code></pre>
</div>

<p>describe ‘#push_head(value)’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'no node in the list' do
  random_value = rand(10)
  list.push_head(random_value)
  list.head.value.should == random_value
end

it 'one node in the list already' do
  random_value_1 = rand(10)
  random_value_2 = rand(10)
  list.push_head(random_value_1)
  list.push_head(random_value_2)
  list.head.value.should == random_value_2
  list.tail.value.should == random_value_1
end

it 'many nodes in the list already' do
  tail = rand(10)
  head = rand(10)
  list.push_head(tail)
  list.push_head(rand(10))
  list.push_head(rand(10))
  list.push_head(head)
  list.head.value.should == head
  list.tail.value.should == tail
end

it 'increments count' do
  list.count.should == 0
  list.push_head(rand(10))
  list.push_head(rand(10))
  list.count.should == 2
  list.push_head(rand(10))
  list.count.should == 3
end   end
</code></pre>
</div>

<p>describe ‘#push_tail(value)’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'no node in the list' do
  random_value = rand(10)
  list.push_tail(random_value)
  list.head.value.should == random_value
  list.tail.value.should == random_value
end

it 'one node in the list already' do
  random_value_1 = rand(10)
  random_value_2 = rand(10)
  list.push_tail(random_value_1)
  list.push_tail(random_value_2)
  list.head.value.should == random_value_1
  list.tail.value.should == random_value_2
end

it 'many nodes in the list already' do
  tail = rand(10)
  head = rand(10)
  list.push_tail(head)
  list.push_tail(rand(10))
  list.push_tail(rand(10))
  list.push_tail(tail)
  list.head.value.should == head
  list.tail.value.should == tail
end

it 'increments count' do
  list.count.should == 0
  list.push_tail(rand(10))
  list.push_tail(rand(10))
  list.count.should == 2
  list.push_tail(rand(10))
  list.count.should == 3
end   end
</code></pre>
</div>

<p>describe ‘#pop_head’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'no node in the list' do
  list.pop_head.should == false
end

it 'one node in the list already' do
  random_value_1 = rand(10)
  list.push_tail(random_value_1)
  list.head.value.should == random_value_1
  list.tail.value.should == random_value_1
  list.pop_head.should == random_value_1
  list.count.should == 0
end

it 'many nodes in the list already' do
  tail = rand(10)
  head = rand(10)
  list.push_tail(head)
  list.push_tail(tail)
  list.head.value.should == head
  list.tail.value.should == tail

  list.pop_head.should == head
  list.count.should == 1
  list.head.value.should == tail
  list.tail.value.should == tail
end   end
</code></pre>
</div>

<p>describe ‘#pop_tail’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'no node in the list' do
  list.pop_tail.should == false
end

it 'one node in the list already' do
  random_value_1 = rand(10)
  list.push_tail(random_value_1)
  list.head.value.should == random_value_1
  list.tail.value.should == random_value_1
  list.pop_tail.should == random_value_1
  list.count.should == 0
end

it 'many nodes in the list already' do
  tail = 1
  head = 2
  list.push_head(head)
  list.push_tail(tail)
  list.head.value.should == head
  list.tail.value.should == tail

  list.pop_tail.should == tail
  list.count.should == 1
  list.head.value.should == head
  list.tail.value.should == tail
end   end
</code></pre>
</div>

<p>describe ‘#nodes’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'prints lists' do
  nodes = []

  5.times do |i|
    x = rand(5)
    nodes &lt;&lt; x
    list.push_tail(x)
  end

  list.nodes.should == nodes
end   end
</code></pre>
</div>

<p>describe ‘#reverse’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'reverses list with many nodes' do
  nodes = [1,2,3,4,5]

  nodes.each do |n|
    list.push_tail(n)
  end

  list.reverse.nodes.should == nodes.reverse
end

it 'reverses list with one node' do
  nodes = [1]

  nodes.each do |n|
    list.push_tail(n)
  end

  list.reverse.nodes.should == nodes.reverse
end

it 'reverses list with no node' do
  nodes = []

  nodes.each do |n|
    list.push_tail(n)
  end

  list.reverse.should == false
end   end
</code></pre>
</div>

<p>describe ‘#search(value)’ do
    let!(:list) { build(:list, head: nil, tail: nil, count: 0) }</p>

<div class="highlighter-rouge"><pre class="highlight"><code>it 'search a node in a list with no nodes' do
  list.search(1).should == false
end

it 'search a node in a list' do
  nodes = [1,2,3,4,5]

  nodes.each do |n|
    list.push_tail(n)
  end

  list.search(4).value.should == 4
  list.search(6).should == false
end   end end
</code></pre>
</div>

<p>```</p>

<p>``` ruby lib/models/list.rb
class List
  attr_accessor :head, :tail, :count</p>

<p>def initialize
    @head = nil
    @tail = nil
    @count = 0
  end</p>

<p># Push a tail node
  def push_head(value)
    node = Node.new
    node.value = value</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if @count == 0
  @head = node
  @tail = node
  node.point = nil
else
  node.point = @head
  @head = node
end
@count += 1   end
</code></pre>
</div>

<p># Push a head node
  def push_tail(value)
    node = Node.new
    node.value = value</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if @count == 0
  @head = node
  @tail = node
  node.point = nil
else
  @tail.point = node
  @tail = node
  node.point = nil
end

@count += 1   end
</code></pre>
</div>

<p># Get head value and delete head node
  def pop_head
    return false if @count &lt; 1</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pop = @head.value
@head = @head.point
@count -= 1
pop   end
</code></pre>
</div>

<p># Get tail value and delete tail node
  def pop_tail
    return false if @count &lt; 1</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pop = @tail.value
prev = nil
current = @head

while current
  prev = current
  current = current.point
end

@tail = prev
prev.point = nil

@count -= 1
pop   end
</code></pre>
</div>

<p># Returns all nodes in a list
  def nodes
    return false if @count &lt; 1</p>

<div class="highlighter-rouge"><pre class="highlight"><code>current = @head
str = []

while current
  str &lt;&lt; current.value
  current = current.point
end

str   end
</code></pre>
</div>

<p># Prints all nodes in a list
  def print
    puts nodes.join(‘-‘)
  end</p>

<p># Reverse a list
  def reverse
    if @count &lt; 1
      false
    elsif @count == 1
      self
    else
      first = nil
      second = @head</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  while second
    temp = second.point

    second.point = first
    first = second

    second = temp
  end

  @head.point = nil
  t_head = @head
  @head = @tail
  @tail = t_head

  self
end   end
</code></pre>
</div>

<p># Searches a value in a list
  def search(value)
    if @count &lt; 1
      false
    else
      current = @head</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  while current
    return current if value == current.value
    current = current.point
  end

  false
end   end end
</code></pre>
</div>

<p>```</p>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Jason Kim</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Jason Kim</li>
          <li><a href="mailto:iamjsonkim@gmail.com">iamjsonkim@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/serv"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">serv</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/jasoki"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">jasoki</span></a>

          </li>
          

          
          <li>
            <a href="https://www.linkedin.com/in/jason-kim-a2b97b6">
  <span class="icon icon--linkedin"><?xml version="1.0" encoding="utf-8"?>


<!-- The icon can be used freely in both personal and commercial projects with no attribution required, but always appreciated. 
You may NOT sub-license, resell, rent, redistribute or otherwise transfer the icon without express written permission from iconmonstr.com -->


<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"

	 width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">

<path id="linkedin-icon" d="M150.65,100.682c0,27.992-22.508,50.683-50.273,50.683c-27.765,0-50.273-22.691-50.273-50.683

	C50.104,72.691,72.612,50,100.377,50C128.143,50,150.65,72.691,150.65,100.682z M143.294,187.333H58.277V462h85.017V187.333z

	 M279.195,187.333h-81.541V462h81.541c0,0,0-101.877,0-144.181c0-38.624,17.779-61.615,51.807-61.615

	c31.268,0,46.289,22.071,46.289,61.615c0,39.545,0,144.181,0,144.181h84.605c0,0,0-100.344,0-173.915

	s-41.689-109.131-99.934-109.131s-82.768,45.369-82.768,45.369V187.333z" fill="#e0e0e0" />

</svg>

</span>
  <span class="username">Jason Kim</span>
</a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Writings on software and other topics
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
